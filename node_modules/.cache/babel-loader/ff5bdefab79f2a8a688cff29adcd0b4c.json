{"remainingRequest":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/babel-loader/lib/index.js!/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/src/components/UserDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/src/components/UserDialog.vue","mtime":1692731580408},{"path":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/cache-loader/dist/cjs.js","mtime":1673878691195},{"path":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/babel-loader/lib/index.js","mtime":1673878691174},{"path":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/cache-loader/dist/cjs.js","mtime":1673878691195},{"path":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/vue-loader/lib/index.js","mtime":1673878699755}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGFwaSBmcm9tICIuLi9hcGkiOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VyRGlhbG9nIiwKICBwcm9wczogewogICAgdXNlcjogT2JqZWN0LAogICAgb3BlbmVkOiBCb29sZWFuCiAgfSwKICBtZXRob2RzOiB7CiAgICBwZXJzaXN0OiBmdW5jdGlvbiBwZXJzaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuaXNOZXcpIHsKICAgICAgICBhcGkudXNlcnMuY3JlYXRlKHsKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXIudXNlcm5hbWUsCiAgICAgICAgICBlbWFpbDogdGhpcy51c2VyLmVtYWlsLAogICAgICAgICAgY25wOiB0aGlzLnVzZXIuY25wLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMudXNlci5wYXNzd29yZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzLiRlbWl0KCJyZWZyZXNoIik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXBpLnVzZXJzLmVkaXQoewogICAgICAgICAgaWQ6IHRoaXMudXNlci5pZCwKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXIudXNlcm5hbWUsCiAgICAgICAgICBlbWFpbDogdGhpcy51c2VyLmVtYWlsLAogICAgICAgICAgY25wOiB0aGlzLnVzZXIuY25wLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMudXNlci5wYXNzd29yZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzLiRlbWl0KCJyZWZyZXNoIik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVGdW5jOiBmdW5jdGlvbiBkZWxldGVGdW5jKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5pc05ldykgewogICAgICAgIGFwaS51c2Vycy5kZWxldGUoewogICAgICAgICAgaWQ6IHRoaXMudXNlci5pZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi4kZW1pdCgicmVmcmVzaCIpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgbWVkaWNhbFJlY29yZHNMaXN0OiBmdW5jdGlvbiBtZWRpY2FsUmVjb3Jkc0xpc3QoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCB0aGlzLnVzZXIuaWQpOwogICAgICByb3V0ZXIucHVzaCgiL21lZGljYWxSZWNvcmRzIik7CiAgICB9LAogICAgc3RhdHVzTGlzdDogZnVuY3Rpb24gc3RhdHVzTGlzdCgpIHsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJZCcsIHRoaXMudXNlci5pZCk7CiAgICAgIHJvdXRlci5wdXNoKCIvc3RhdHVzIik7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgaXNOZXc6IGZ1bmN0aW9uIGlzTmV3KCkgewogICAgICByZXR1cm4gIXRoaXMudXNlci5pZDsKICAgIH0sCiAgICBpc0FkbWluOiBmdW5jdGlvbiBpc0FkbWluKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1siYXV0aC9pc0FkbWluIl07CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["UserDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAA,GAAA,MAAA,QAAA;AACA,OAAA,MAAA,MAAA,UAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,MADA;AAEA,IAAA,MAAA,EAAA;AAFA,GAFA;AAMA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,UAAA,KAAA,KAAA,EAAA;AACA,QAAA,GAAA,CAAA,KAAA,CACA,MADA,CACA;AACA,UAAA,QAAA,EAAA,KAAA,IAAA,CAAA,QADA;AAEA,UAAA,KAAA,EAAA,KAAA,IAAA,CAAA,KAFA;AAGA,UAAA,GAAA,EAAA,KAAA,IAAA,CAAA,GAHA;AAIA,UAAA,QAAA,EAAA,KAAA,IAAA,CAAA;AAJA,SADA,EAOA,IAPA,CAOA;AAAA,iBAAA,KAAA,CAAA,KAAA,CAAA,SAAA,CAAA;AAAA,SAPA;AAQA,OATA,MASA;AACA,QAAA,GAAA,CAAA,KAAA,CACA,IADA,CACA;AACA,UAAA,EAAA,EAAA,KAAA,IAAA,CAAA,EADA;AAEA,UAAA,QAAA,EAAA,KAAA,IAAA,CAAA,QAFA;AAGA,UAAA,KAAA,EAAA,KAAA,IAAA,CAAA,KAHA;AAIA,UAAA,GAAA,EAAA,KAAA,IAAA,CAAA,GAJA;AAKA,UAAA,QAAA,EAAA,KAAA,IAAA,CAAA;AALA,SADA,EAQA,IARA,CAQA;AAAA,iBAAA,KAAA,CAAA,KAAA,CAAA,SAAA,CAAA;AAAA,SARA;AASA;AACA,KAtBA;AAuBA,IAAA,UAvBA,wBAuBA;AAAA;;AACA,UAAA,CAAA,KAAA,KAAA,EAAA;AACA,QAAA,GAAA,CAAA,KAAA,CACA,MADA,CACA;AACA,UAAA,EAAA,EAAA,KAAA,IAAA,CAAA;AADA,SADA,EAIA,IAJA,CAIA;AAAA,iBAAA,MAAA,CAAA,KAAA,CAAA,SAAA,CAAA;AAAA,SAJA;AAKA;AACA,KA/BA;AAgCA,IAAA,kBAhCA,gCAiCA;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,QAAA,EAAA,KAAA,IAAA,CAAA,EAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,iBAAA;AACA,KApCA;AAqCA,IAAA,UArCA,wBAsCA;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,QAAA,EAAA,KAAA,IAAA,CAAA,EAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,SAAA;AACA;AAzCA,GANA;AAkDA,EAAA,QAAA,EAAA;AACA,IAAA,KAAA,EAAA,iBAAA;AACA,aAAA,CAAA,KAAA,IAAA,CAAA,EAAA;AACA,KAHA;AAIA,IAAA,OAAA,EAAA,mBACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,cAAA,CAAA;AACA;AAPA;AAlDA,CAAA","sourcesContent":["<template>\n  <v-dialog\n    transition=\"dialog-bottom-transition\"\n    max-width=\"600\"\n    :value=\"opened\"\n  >\n    <template>\n      <v-card>\n        <v-toolbar color=\"primary\" dark v-if=\"isAdmin\">\n          {{ isNew ? \"Create user\" : \"Edit user\" }}\n        </v-toolbar>\n        <v-form>\n          <v-text-field v-model=\"user.username\" label=\"Username\" :readonly=\"!isAdmin\"/>\n          <v-text-field v-model=\"user.email\" label=\"Email\" :readonly=\"!isAdmin\"/>\n          <v-text-field v-model=\"user.cnp\" label=\"Cnp\" :readonly=\"!isAdmin\"/>\n          <v-text-field v-model=\"user.password\" label=\"Password\" :readonly=\"!isAdmin\"/>\n        </v-form>\n        <v-card-actions>\n          <v-btn v-if=\"isAdmin\" @click=\"persist\">\n            {{ isNew ? \"Create\" : \"Save\" }}\n          </v-btn>\n          <v-btn @click=\"deleteFunc\" v-if=\"!isNew && isAdmin\">\n            Delete\n          </v-btn>\n          <v-btn @click=\"medicalRecordsList\" v-if=\"!isNew\">\n            See medical records\n          </v-btn>\n          <v-btn @click=\"statusList\" v-if=\"!isNew\">\n            See status\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </template>\n  </v-dialog>\n</template>\n\n<script>\nimport api from \"../api\";\nimport router from \"@/router\";\n\nexport default {\n  name: \"UserDialog\",\n  props: {\n    user: Object,\n    opened: Boolean,\n  },\n  methods: {\n    persist() {\n      if (this.isNew) {\n        api.users\n          .create({\n            username: this.user.username,\n            email: this.user.email,\n            cnp:this.user.cnp,\n            password: this.user.password,\n          })\n          .then(() => this.$emit(\"refresh\"));\n      } else {\n        api.users\n          .edit({\n            id: this.user.id,\n            username: this.user.username,\n            email: this.user.email,\n            cnp:this.user.cnp,\n            password: this.user.password\n          })\n          .then(() => this.$emit(\"refresh\"));\n      }\n    },\n    deleteFunc(){\n        if (!this.isNew) {\n        api.users\n          .delete({\n            id: this.user.id,\n          })\n          .then(() => this.$emit(\"refresh\"));\n      }\n    },\n    medicalRecordsList()\n    {\n      localStorage.setItem('userId', this.user.id);\n      router.push(\"/medicalRecords\");\n    },\n    statusList()\n    {\n      localStorage.setItem('userId', this.user.id);\n      router.push(\"/status\");\n    },\n  },\n\n  computed: {\n    isNew: function () {\n      return !this.user.id;\n    },\n    isAdmin: function ()\n    {\n      return this.$store.getters[\"auth/isAdmin\"];\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n"],"sourceRoot":"src/components"}]}