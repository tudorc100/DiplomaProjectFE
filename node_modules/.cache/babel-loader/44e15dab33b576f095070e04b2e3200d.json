{"remainingRequest":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/babel-loader/lib/index.js!/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/src/views/Login.vue","mtime":1682785514837},{"path":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/cache-loader/dist/cjs.js","mtime":1673878691195},{"path":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/babel-loader/lib/index.js","mtime":1673878691174},{"path":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/cache-loader/dist/cjs.js","mtime":1673878691195},{"path":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/vue-loader/lib/index.js","mtime":1673878699755}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90dWRvcmNhbXBhbi9EZXNrdG9wL1NDT0FMQS9saWNlbnRhL0RpcGxvbWFQcm9qZWN0RkUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpblBhZ2UiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlOiAibG9naW4iLAogICAgICBsb2dpbjogewogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhdHRlbXB0TG9naW46IGZ1bmN0aW9uIGF0dGVtcHRMb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL2xvZ2luIiwgdGhpcy5sb2dpbikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnN0YXR1cy5sb2dnZWRJbikgewogICAgICAgICAgaWYgKF90aGlzLiRzdG9yZS5nZXR0ZXJzWyJhdXRoL2lzQWRtaW4iXSkgewogICAgICAgICAgICByb3V0ZXIucHVzaCgiL3VzZXJzIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByb3V0ZXIucHVzaCgiL2l0ZW1zZm9ydXNyIik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCJJbnZhbGlkIGNyZWRlbnRpYWxzISIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYXR0ZW1wdFJlZ2lzdGVyOiBmdW5jdGlvbiBhdHRlbXB0UmVnaXN0ZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL3JlZ2lzdGVyIiwgX3RoaXMyLmxvZ2luKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHRvZ2dsZU1vZGU6IGZ1bmN0aW9uIHRvZ2dsZU1vZGUoKSB7CiAgICAgIHRoaXMubW9kZSA9IHRoaXMubW9kZSA9PT0gImxvZ2luIiA/ICJyZWdpc3RlciIgOiAibG9naW4iOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYXV0aC9sb2dvdXQiKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0xvZ2dlZEluOiBmdW5jdGlvbiBpc0xvZ2dlZEluKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC5zdGF0dXMubG9nZ2VkSW47CiAgICB9LAogICAgaW5Mb2dpbk1vZGU6IGZ1bmN0aW9uIGluTG9naW5Nb2RlKCkgewogICAgICByZXR1cm4gdGhpcy5tb2RlID09PSAibG9naW4iOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA,OAAA,MAAA,MAAA,WAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAGA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA;AAHA;AAFA,KAAA;AAAA,GAHA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,KAAA,KAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA,EAAA;AACA,cAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,cAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,QAAA;AACA,WAFA,MAEA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,cAAA;AACA;AACA,SANA,MAMA;AACA,UAAA,KAAA,CAAA,sBAAA,CAAA;AACA;AACA,OAVA;AAWA,KAbA;AAeA,IAAA,eAfA,6BAeA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA,MAAA,CAAA,KAAA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KAjBA;AAmBA,IAAA,UAnBA,wBAmBA;AACA,WAAA,IAAA,GAAA,KAAA,IAAA,KAAA,OAAA,GAAA,UAAA,GAAA,OAAA;AACA,KArBA;AAuBA,IAAA,MAvBA,oBAuBA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,aAAA;AACA;AAzBA,GAZA;AAwCA,EAAA,QAAA,EAAA;AACA,IAAA,UAAA,EAAA,sBAAA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA;AACA,KAHA;AAKA,IAAA,WAAA,EAAA,uBAAA;AACA,aAAA,KAAA,IAAA,KAAA,OAAA;AACA;AAPA;AAxCA,CAAA","sourcesContent":["<template>\n  <v-container class=\"login-container\">\n    <v-layout row justify-center>\n      <v-flex xs12 md8 lg6>\n        <v-card class=\"elevation-12\">\n          <v-toolbar class=\"primary lighten-1\">\n            <v-toolbar-title>\n              <span class=\"white--text\">Medical App Login</span>\n            </v-toolbar-title>\n          </v-toolbar>\n          <v-card-text>\n            <v-form>\n              <v-text-field\n                  v-if=\"mode === 'register'\"\n                  prepend-icon=\"mdi-email\"\n                  name=\"email\"\n                  label=\"Email\"\n                  v-model=\"login.email\"\n                  validate-on-blur\n                  type=\"email\"\n                  required\n              >\n              </v-text-field>\n              <v-text-field\n                  prepend-icon=\"mdi-account\"\n                  name=\"username\"\n                  label=\"Username\"\n                  v-model=\"login.username\"\n                  validate-on-blur\n                  required\n              ></v-text-field>\n              <v-text-field\n                  prepend-icon=\"mdi-lock\"\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  v-model=\"login.password\"\n                  validate-on-blur\n                  required\n              ></v-text-field>\n              <v-card-actions>\n                <v-btn\n                    class=\"mr-4\"\n                    :color=\"inLoginMode ? 'primary' : 'secondary'\"\n                    @click=\"attemptLogin\"\n                >\n                  {{ inLoginMode ? 'Login' : 'Register' }}\n                </v-btn>\n                <v-btn\n                    text\n                    small\n                    @click=\"toggleMode\"\n                >\n                  {{ inLoginMode ? 'Create an account' : 'I already have an account' }}\n                </v-btn>\n              </v-card-actions>\n            </v-form>\n          </v-card-text>\n        </v-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport router from \"../router\";\n\nexport default {\n  name: \"LoginPage\",\n\n  data: () => ({\n    mode: \"login\",\n    login: {\n      email: \"\",\n      username: \"\",\n      password: \"\",\n    },\n  }),\n\n  methods: {\n    attemptLogin() {\n      this.$store.dispatch(\"auth/login\", this.login).then(() => {\n        if (this.$store.state.auth.status.loggedIn) {\n          if (this.$store.getters[\"auth/isAdmin\"]) {\n            router.push(\"/users\");\n          } else {\n            router.push(\"/itemsforusr\");\n          }\n        } else {\n          alert(\"Invalid credentials!\");\n        }\n      });\n    },\n\n    async attemptRegister() {\n      await this.$store.dispatch(\"auth/register\", this.login);\n    },\n\n    toggleMode() {\n      this.mode = this.mode === \"login\" ? \"register\" : \"login\";\n    },\n\n    logout() {\n      this.$store.dispatch(\"auth/logout\");\n    },\n  },\n\n  computed: {\n    isLoggedIn: function () {\n      return this.$store.state.auth.status.loggedIn;\n    },\n\n    inLoginMode: function () {\n      return this.mode === \"login\";\n    },\n  },\n};\n</script>\n\n<style>\n.login-card {\n  background-color: #f2f2f2;\n  max-width: 500px;\n  margin: 0 auto;\n  padding: 20px;\n  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.2);\n}\n\n.login-card h4 {\n  margin: 0 0 20px;\n  font-size: 32px;\n  font-weight: bold;\n  color: #4caf50;\n}\n\n.login-form {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.login-form input {\n  margin: 10px 0;\n  padding: 10px;\n  font-size: 16px;\n  width: 100%;\n  border: none;\n  border-radius: 5px;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);\n}\n\n.login-form input:focus {\n  outline: none;\n  box-shadow: 0px 0px 10px rgba(76, 175, 80, 0.8);\n}\n\n.login-form button {\n  margin: 20px 0 10px;\n  padding: 10px;\n  font-size: 20px;\n  font-weight: bold;\n  color: #fff;\n  background-color: #4caf50;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 0.2s ease-in-out;\n}\n\n.login-form button:hover {\n  background-color: #388e3c;\n}\n\n.login-form p {\n  margin-top: 20px;\n  font-size: 18px;\n  color: #4caf50;\n  text-align: center;\n}\n\n.login-form p a {\n  color: #4caf50;\n  text-decoration: none;\n  transition: color 0.2s ease-in-out;\n}\n\n.login-form p a:hover {\n  color: #388e3c;\n}\n</style>\n"],"sourceRoot":"src/views"}]}