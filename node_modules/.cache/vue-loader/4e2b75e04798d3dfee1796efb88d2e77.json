{"remainingRequest":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/src/views/Login.vue","mtime":1682785514837},{"path":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/cache-loader/dist/cjs.js","mtime":1673878691195},{"path":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/babel-loader/lib/index.js","mtime":1673878691174},{"path":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/cache-loader/dist/cjs.js","mtime":1673878691195},{"path":"/Users/tudorcampan/Desktop/SCOALA/licenta/DiplomaProjectFE/node_modules/vue-loader/lib/index.js","mtime":1673878699755}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW5QYWdlIiwKCiAgZGF0YTogKCkgPT4gKHsKICAgIG1vZGU6ICJsb2dpbiIsCiAgICBsb2dpbjogewogICAgICBlbWFpbDogIiIsCiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgfSwKICB9KSwKCiAgbWV0aG9kczogewogICAgYXR0ZW1wdExvZ2luKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYXV0aC9sb2dpbiIsIHRoaXMubG9naW4pLnRoZW4oKCkgPT4gewogICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnN0YXR1cy5sb2dnZWRJbikgewogICAgICAgICAgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnNbImF1dGgvaXNBZG1pbiJdKSB7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvdXNlcnMiKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvaXRlbXNmb3J1c3IiKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoIkludmFsaWQgY3JlZGVudGlhbHMhIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgYXN5bmMgYXR0ZW1wdFJlZ2lzdGVyKCkgewogICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYXV0aC9yZWdpc3RlciIsIHRoaXMubG9naW4pOwogICAgfSwKCiAgICB0b2dnbGVNb2RlKCkgewogICAgICB0aGlzLm1vZGUgPSB0aGlzLm1vZGUgPT09ICJsb2dpbiIgPyAicmVnaXN0ZXIiIDogImxvZ2luIjsKICAgIH0sCgogICAgbG9nb3V0KCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYXV0aC9sb2dvdXQiKTsKICAgIH0sCiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluOwogICAgfSwKCiAgICBpbkxvZ2luTW9kZTogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5tb2RlID09PSAibG9naW4iOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container class=\"login-container\">\n    <v-layout row justify-center>\n      <v-flex xs12 md8 lg6>\n        <v-card class=\"elevation-12\">\n          <v-toolbar class=\"primary lighten-1\">\n            <v-toolbar-title>\n              <span class=\"white--text\">Medical App Login</span>\n            </v-toolbar-title>\n          </v-toolbar>\n          <v-card-text>\n            <v-form>\n              <v-text-field\n                  v-if=\"mode === 'register'\"\n                  prepend-icon=\"mdi-email\"\n                  name=\"email\"\n                  label=\"Email\"\n                  v-model=\"login.email\"\n                  validate-on-blur\n                  type=\"email\"\n                  required\n              >\n              </v-text-field>\n              <v-text-field\n                  prepend-icon=\"mdi-account\"\n                  name=\"username\"\n                  label=\"Username\"\n                  v-model=\"login.username\"\n                  validate-on-blur\n                  required\n              ></v-text-field>\n              <v-text-field\n                  prepend-icon=\"mdi-lock\"\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  v-model=\"login.password\"\n                  validate-on-blur\n                  required\n              ></v-text-field>\n              <v-card-actions>\n                <v-btn\n                    class=\"mr-4\"\n                    :color=\"inLoginMode ? 'primary' : 'secondary'\"\n                    @click=\"attemptLogin\"\n                >\n                  {{ inLoginMode ? 'Login' : 'Register' }}\n                </v-btn>\n                <v-btn\n                    text\n                    small\n                    @click=\"toggleMode\"\n                >\n                  {{ inLoginMode ? 'Create an account' : 'I already have an account' }}\n                </v-btn>\n              </v-card-actions>\n            </v-form>\n          </v-card-text>\n        </v-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport router from \"../router\";\n\nexport default {\n  name: \"LoginPage\",\n\n  data: () => ({\n    mode: \"login\",\n    login: {\n      email: \"\",\n      username: \"\",\n      password: \"\",\n    },\n  }),\n\n  methods: {\n    attemptLogin() {\n      this.$store.dispatch(\"auth/login\", this.login).then(() => {\n        if (this.$store.state.auth.status.loggedIn) {\n          if (this.$store.getters[\"auth/isAdmin\"]) {\n            router.push(\"/users\");\n          } else {\n            router.push(\"/itemsforusr\");\n          }\n        } else {\n          alert(\"Invalid credentials!\");\n        }\n      });\n    },\n\n    async attemptRegister() {\n      await this.$store.dispatch(\"auth/register\", this.login);\n    },\n\n    toggleMode() {\n      this.mode = this.mode === \"login\" ? \"register\" : \"login\";\n    },\n\n    logout() {\n      this.$store.dispatch(\"auth/logout\");\n    },\n  },\n\n  computed: {\n    isLoggedIn: function () {\n      return this.$store.state.auth.status.loggedIn;\n    },\n\n    inLoginMode: function () {\n      return this.mode === \"login\";\n    },\n  },\n};\n</script>\n\n<style>\n.login-card {\n  background-color: #f2f2f2;\n  max-width: 500px;\n  margin: 0 auto;\n  padding: 20px;\n  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.2);\n}\n\n.login-card h4 {\n  margin: 0 0 20px;\n  font-size: 32px;\n  font-weight: bold;\n  color: #4caf50;\n}\n\n.login-form {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.login-form input {\n  margin: 10px 0;\n  padding: 10px;\n  font-size: 16px;\n  width: 100%;\n  border: none;\n  border-radius: 5px;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);\n}\n\n.login-form input:focus {\n  outline: none;\n  box-shadow: 0px 0px 10px rgba(76, 175, 80, 0.8);\n}\n\n.login-form button {\n  margin: 20px 0 10px;\n  padding: 10px;\n  font-size: 20px;\n  font-weight: bold;\n  color: #fff;\n  background-color: #4caf50;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 0.2s ease-in-out;\n}\n\n.login-form button:hover {\n  background-color: #388e3c;\n}\n\n.login-form p {\n  margin-top: 20px;\n  font-size: 18px;\n  color: #4caf50;\n  text-align: center;\n}\n\n.login-form p a {\n  color: #4caf50;\n  text-decoration: none;\n  transition: color 0.2s ease-in-out;\n}\n\n.login-form p a:hover {\n  color: #388e3c;\n}\n</style>\n"]}]}